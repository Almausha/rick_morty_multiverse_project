{% extends 'universe/base.html' %}

{% block content %}
<h2>Schedule List</h2>
<a href="{% url 'scheduler_create' %}" class="btn btn-primary mb-2">Create Schedule</a>
<table class="table table-dark table-striped">
    <thead>
        <tr>
            <th>Source</th>
            <th>Destination</th>
            <th>Date</th>
            <th>Max Capacity</th>
            <th>Status</th>
            <th>Booked</th>
            <th>Available</th>
            <th>Actions</th>
        </tr>
    </thead>
    <tbody>
        {% for schedule in schedules %}
        <tr>
            <td>{{ schedule.source_universe.name }}</td>
            <td>{{ schedule.destination_universe.name }}</td>
            <td>{{ schedule.date }}</td>
            <td>{{ schedule.max_capacity }}</td>
            <td>
                {% if schedule.status == "Available" %}
                    <span class="badge bg-success">{{ schedule.status }}</span>
                {% elif schedule.status == "Booked" %}
                    <span class="badge bg-warning text-dark">{{ schedule.status }}</span>
                {% else %}
                    <span class="badge bg-danger">{{ schedule.status }}</span>
                {% endif %}
            </td>
            <td>{{ schedule.booked_count }}</td>
            <td>{{ schedule.available_slots }}</td>
            <td>
                <a href="{% url 'scheduler_update' schedule.travel_id %}" class="btn btn-sm btn-warning">Edit</a>
                <a href="{% url 'scheduler_delete' schedule.travel_id %}" class="btn btn-sm btn-danger">Delete</a>
            </td>
        </tr>
        {% empty %}
        <tr><td colspan="8">No schedules found.</td></tr>
        {% endfor %}
    </tbody>
</table>
{% endblock %}
